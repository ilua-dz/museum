const menuButton=document.querySelector(".menu-icon"),menuButtonOffset=document.querySelector(".menu-icon-container"),welcomeTitle=document.querySelector(".welcome-title"),welcomeDescr=document.querySelector(".welcome-descr"),welcomeButton=document.querySelector(".welcome-button"),headerNavList=document.querySelector(".nav-list-header"),welcomeSection=document.querySelector(".welcome-container"),navItemsHeader=document.querySelectorAll(".nav-item-header"),overlay=document.querySelector(".overlay");let menuIsClosed=!0;const menuToggle=()=>{menuButton.classList.toggle("menu-icon-active"),welcomeTitle.classList.toggle("menu-active"),welcomeDescr.classList.toggle("menu-active"),welcomeButton.classList.toggle("menu-active"),welcomeSection.classList.toggle("welcome-menu-active"),headerNavList.classList.toggle("side-menu-active"),overlay.classList.toggle("overlay-active"),menuIsClosed=!menuIsClosed};overlay.addEventListener("click",()=>menuToggle()),menuButtonOffset.addEventListener("click",()=>menuToggle()),navItemsHeader.forEach(i=>i.addEventListener("click",()=>menuToggle()));const setOverlayBodySize=()=>{let bodyHeight=document.querySelector("body").offsetHeight,bodyWidth=document.querySelector("body").offsetWidth;overlay.style.height=bodyHeight+"px",overlay.style.width=bodyWidth+"px"};window.addEventListener("resize",()=>setOverlayBodySize()),document.addEventListener("DOMContentLoaded",()=>setOverlayBodySize());const swiper=new Swiper(".swiper",{direction:"horizontal",loop:!0,effect:"slide",pagination:{el:".swiper-pagination",clickable:".true"},navigation:{nextEl:".pag-right-arrow",prevEl:".pag-left-arrow"}});document.getElementById("slide-number").textContent="0"+swiper.activeIndex,swiper.on("slideChange",(function(){document.getElementById("slide-number").textContent=`0${swiper.realIndex+1}`}));const compContainer=document.querySelector(".img-compare-container");window.addEventListener("resize",()=>{let compContainerWidth=compContainer.offsetWidth;compContainer.style.height=.97*compContainerWidth+"px"});const compareOverlay=document.querySelector(".img-compare-overlay");function compareInit(){let compContainerWidth=compContainer.offsetWidth,h=compareOverlay.offsetHeight;compareOverlay.style.width=.61*compContainerWidth+"px",slider.style.top=.5*h-slider.offsetHeight/2+"px",slider.style.left=.61*compContainerWidth-slider.offsetWidth/2+"px",window.innerWidth<769&&(slider.style.top=.52*h-slider.offsetHeight/2+"px")}let pressed=0,w=compareOverlay.offsetWidth;const slider=document.createElement("div");function slideReady(event){event.preventDefault(),pressed=1,window.addEventListener("mousemove",slideMove),window.addEventListener("touchmove",slideMove)}function slideMove(event){if(0==pressed)return!1;let position=getCursorPosition(event);position<0&&(position=0),position>w&&(position=w),slide(position)}function getCursorPosition(event){let a=compareOverlay.getBoundingClientRect(),pos=event.pageX-a.left;return event=event||window.event,pos-=window.pageXOffset,pos}function slide(pos){compareOverlay.style.width=pos+"px",slider.style.left=compareOverlay.offsetWidth-slider.offsetWidth/2+"px"}slider.setAttribute("class","img-compare-slider"),compareOverlay.parentElement.insertBefore(slider,compareOverlay),document.addEventListener("DOMContentLoaded",()=>compareInit()),window.addEventListener("resize",()=>compareInit()),slider.addEventListener("mousedown",slideReady),window.addEventListener("mouseup",()=>pressed=0),slider.addEventListener("touchstart",slideReady),window.addEventListener("touchstop",()=>pressed=0);const videoProgress=document.querySelectorAll(".video-progress");for(let i=0;i<videoProgress.length;i++)videoProgress[i].addEventListener("input",(function(){const value=this.value;this.style.background=`linear-gradient(to right, #710707 0%, #710707 ${value}%, #c4c4c4 ${value}%, #c4c4c4 100%)`}));const galleryImgContainer=document.querySelector(".gallery-img-container");let images=[];for(let i=1;i<16;i++)image=`<img src="./assets/img/gallery/gallery${i}.avif" alt="gallery${i}">`,images.push(image);let i=0,arr=[],temp;for(;arr.length<15;)temp=Math.trunc(15*Math.random()+1),arr.includes(temp)||arr.push(temp);let randomImages=[];for(let i=0;i<15;i++)randomImages.push(images[arr[i]-1]);for(let i=1;i<16;i++)5!==i&&11!==i||randomImages.splice(i,0,'<div class="spacer"></div>');galleryImgContainer.innerHTML=randomImages.join("");const ticketBasicMinus=document.querySelectorAll(".amount-minus-basic"),ticketBasicPlus=document.querySelectorAll(".amount-plus-basic"),ticketSeniorMinus=document.querySelectorAll(".amount-minus-senior"),ticketSeniorPlus=document.querySelectorAll(".amount-plus-senior"),ticketBasicAmount=document.querySelectorAll(".basic-amount"),ticketSeniorAmount=document.querySelectorAll(".senior-amount"),ticketBasicSum=document.querySelector(".basic-sum"),ticketSeniorSum=document.querySelector(".senior-sum"),ticketTotalSum=document.querySelectorAll(".total-sum");let counterBasic=1,counterSenior=1;ticketBasicAmount.forEach(item=>item.textContent=counterBasic),ticketSeniorAmount.forEach(item=>item.textContent=counterSenior),ticketBasicSum.textContent=`${20*counterBasic}`,ticketSeniorSum.textContent=`${10*counterSenior}`,ticketTotalSum.forEach(item=>item.textContent=`${20*counterBasic+10*counterSenior}`);for(let i=0;i<ticketBasicMinus.length;i++)ticketBasicMinus[i].addEventListener("click",(function(){counterBasic>0&&(counterBasic--,ticketBasicAmount.forEach(item=>item.textContent=counterBasic),ticketBasicSum.textContent=`${20*counterBasic}`,ticketTotalSum.forEach(item=>item.textContent=`${20*counterBasic+10*counterSenior}`))})),ticketBasicPlus[i].addEventListener("click",(function(){counterBasic<20&&(counterBasic++,ticketBasicAmount.forEach(item=>item.textContent=counterBasic),ticketBasicSum.textContent=`${20*counterBasic}`,ticketTotalSum.forEach(item=>item.textContent=`${20*counterBasic+10*counterSenior}`))})),ticketSeniorMinus[i].addEventListener("click",(function(){counterSenior>0&&(counterSenior--,ticketSeniorAmount.forEach(item=>item.textContent=counterSenior),ticketSeniorSum.textContent=`${10*counterSenior}`,ticketTotalSum.forEach(item=>item.textContent=`${20*counterBasic+10*counterSenior}`))})),ticketSeniorPlus[i].addEventListener("click",(function(){counterSenior<20&&(counterSenior++,ticketSeniorAmount.forEach(item=>item.textContent=counterSenior),ticketSeniorSum.textContent=`${10*counterSenior}`,ticketTotalSum.forEach(item=>item.textContent=`${20*counterBasic+10*counterSenior}`))}));console.log("Предварительная оценка - 153 балла"),console.log("Не выполненные/частично выполненные пункты:"),console.log("-3 Для 420px и 768px не полностью сверстано меню;"),console.log("-4 Результат проверки скорости сайта - средний");